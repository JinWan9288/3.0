"use strict";(self["webpackChunkvueqing"]=self["webpackChunkvueqing"]||[]).push([[991],{7991:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});a(560);var l=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticStyle:{width:"900px"}},[t("el-form",{staticStyle:{width:"800px","padding-top":"30px"}},[t("el-form-item",{attrs:{label:"上传用户头像","label-width":e.formLabelWidth}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:9090/file/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.form.avatarUrl?t("img",{staticClass:"avatar",attrs:{src:e.form.avatarUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"用户姓名","label-width":e.formLabelWidth}},[t("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"用户昵称","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),t("el-form-item",{attrs:{label:"请设置用户密码","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.passwords,callback:function(t){e.$set(e.form,"passwords",t)},expression:"form.passwords"}})],1),t("el-form-item",{attrs:{label:"年龄","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),t("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择用户性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:"1"}}),t("el-option",{attrs:{label:"女",value:"0"}})],1)],1),t("el-form-item",{attrs:{label:"电话号码","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"电子邮箱","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"用户身份","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}})],1),t("el-form-item",{attrs:{label:"用户家庭住址","label-width":e.formLabelWidth}},[t("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),t("el-button",{on:{click:function(t){return e.$router.push("/")}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},r=[],o={name:"Person",data(){return{form:{},formLabelWidth:"120px",user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.getUser().then((e=>{console.log(e),this.form=e}))},methods:{async getUser(){return(await this.request.get("/user/username/"+this.user.username)).data},save(){this.request.post("/user",this.form).then((e=>{"200"!==e.code?(this.$message.success("保存成功 !"),this.$emit("refreshUser"),this.getUser().then((e=>{e.token=JSON.parse(localStorage.getItem("user")).token,localStorage.setItem("user",JSON.stringify(e))})),this.$router.push("/user")):this.$message.error("保存失败 !")}))},handleAvatarSuccess(e){this.form.avatarUrl=e}}},s=o,i=a(1001),m=(0,i.Z)(s,l,r,!1,null,null,null),f=m.exports}}]);
//# sourceMappingURL=991.47670218.js.map