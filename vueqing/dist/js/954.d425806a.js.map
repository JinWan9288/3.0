{"version":3,"file":"js/954.d425806a.js","mappings":"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","sources":["webpack://vueqing/./src/views/Role.vue","webpack://vueqing/src/views/Role.vue","webpack://vueqing/./src/views/Role.vue?8859","webpack://vueqing/./src/views/Role.vue?58dd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',[_c('div',[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入角色姓名\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.rolename),callback:function ($$v) {_vm.rolename=$$v},expression:\"rolename\"}}),_c('el-button',{staticClass:\"ml-20\",attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.load}},[_vm._v(\" 搜索 \"),_c('i',{staticClass:\"el-icon-loading\"})]),_c('el-button',{staticClass:\"ml-30\",attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\" 重置 \"),_c('i',{staticClass:\"el-icon-refresh\"})]),_c('el-button',{staticClass:\"ml-20\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.AddUser}},[_vm._v(\" 新增 \"),_c('i',{staticClass:\"el-icon-circle-plus\"})]),_c('el-popconfirm',{staticClass:\"ml-10\",attrs:{\"confirm-button-text\":\"是的\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定批量删除这些角色吗？\"},on:{\"confirm\":_vm.handleDeleteBatch}},[_c('el-button',{staticClass:\"ml-10\",attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"批量删除\"),_c('i',{staticClass:\"el-icon-remove-outline\"})])],1),_c('el-table',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\",\"header-cell-class-name\":_vm.headerBg},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40px\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"id\",\"width\":\"60px\"}}),_c('el-table-column',{attrs:{\"prop\":\"flag\",\"label\":\"唯一标识\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"prop\":\"rolename\",\"label\":\"角色姓名\",\"width\":\"150px\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\",\"width\":\"150px\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 编辑 \"),_c('i',{staticClass:\"el-icon-edit-outline\"})]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleContributeMenu(scope.row.id)}}},[_vm._v(\" 分配菜单 \"),_c('i',{staticClass:\"el-icon-coordinate\"})]),_c('el-popconfirm',{staticClass:\"ml-10\",attrs:{\"confirm-button-text\":\"是的\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除这个角色吗？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\" 删除 \"),_c('i',{staticClass:\"el-icon-delete-solid\"})])],1)]}}])})],1),_c('br'),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[ 5 , 10, 20 , 100],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"请填写角色信息\",\"visible\":_vm.dialogFormVisible,\"position\":\"fixed\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"角色名\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.rolename),callback:function ($$v) {_vm.$set(_vm.form, \"rolename\", $$v)},expression:\"form.rolename\"}})],1),_c('el-form-item',{attrs:{\"label\":\"请输入角色唯一标识\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.flag),callback:function ($$v) {_vm.$set(_vm.form, \"flag\", $$v)},expression:\"form.flag\"}})],1),_c('el-form-item',{attrs:{\"label\":\"请输入角色描述\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticStyle:{\"height\":\"300px\"},attrs:{\"autocomplete\":\"off\",\"type\":\"textarea\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"请填写菜单分配\",\"visible\":_vm.menuDialogVisible,\"position\":\"fixed\",\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.menuDialogVisible=$event}}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.menudata,\"props\":_vm.props,\"node-key\":\"id\",\"show-checkbox\":\"\",\"default-checked-keys\":_vm.checks,\"default-expand-all\":\"\",\"highlight-current\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ node,data }){return _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_c('i',{class:data.icon}),_vm._v(\" \"+_vm._s(data.menuname)+\" \")])])}}])}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleMenu}},[_vm._v(\"确 定\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container>\r\n    <!--搜索栏-->\r\n    <div>\r\n      <el-input style=\"width: 250px\" placeholder=\"请输入角色姓名\" suffix-icon=\"el-icon-search\" v-model=\"rolename\" ></el-input>\r\n      <el-button class=\"ml-20\" type=\"success\" round  @click=\"load\">  搜索   <i class=\"el-icon-loading\"></i></el-button>\r\n      <el-button class=\"ml-30\" type=\"warning\" round @click=\"reset\">  重置   <i class=\"el-icon-refresh\"></i></el-button>\r\n      <el-button class=\"ml-20\" type=\"primary\"  @click=\"AddUser\">  新增  <i class=\"el-icon-circle-plus\"></i></el-button>\r\n\r\n      <el-popconfirm class=\"ml-10\" confirm-button-text='是的' cancel-button-text='不用了'  icon=\"el-icon-info\"\r\n                     icon-color=\"red\" title=\"您确定批量删除这些角色吗？\"  @confirm=\"handleDeleteBatch\">\r\n        <el-button class=\"ml-10\" type=\"danger\" slot=\"reference\">批量删除<i class=\"el-icon-remove-outline\"></i></el-button>\r\n      </el-popconfirm>\r\n\r\n      <!--表格-->\r\n      <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"headerBg\"\r\n                @selection-change=\"handleSelectionChange\" style=\"margin-top: 20px\"> <!-- 点击复选框后发生的事件 -->\r\n        <el-table-column type=\"selection\" width=\"40px\"></el-table-column>\r\n        <el-table-column prop=\"id\" label=\"id\" width=\"60px\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"flag\" label=\"唯一标识\" width=\"100px\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"rolename\" label=\"角色姓名\" width=\"150px\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"description\" label=\"描述\" width=\"150px\">\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" width=\"300px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">  编辑  <i class=\"el-icon-edit-outline\"></i></el-button>\r\n            <el-button size=\"mini\" @click=\"handleContributeMenu(scope.row.id)\" type=\"info\"> 分配菜单 <i class=\"el-icon-coordinate\"></i>\r\n            </el-button>\r\n            <el-popconfirm class=\"ml-10\" confirm-button-text='是的' cancel-button-text='不用了' icon=\"el-icon-info\"\r\n                           icon-color=\"red\" title=\"您确定删除这个角色吗？\"  @confirm=\"handleDelete(scope.row.id)\" >\r\n                <el-button size=\"mini\" type=\"danger\" slot=\"reference\"> 删除 <i class=\"el-icon-delete-solid\"></i></el-button>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table><br/>\r\n\r\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"pageNum\" :page-sizes=\"[ 5 , 10, 20 , 100]\" :page-size=\"pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n\r\n      <!-- Form弹窗 -->\r\n      <el-dialog title=\"请填写角色信息\" :visible.sync=\"dialogFormVisible\" position=\"fixed\">\r\n        <el-form>\r\n          <el-form-item label=\"角色名\" :label-width=\"formLabelWidth\">\r\n            <el-input v-model=\"form.rolename\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"请输入角色唯一标识\" :label-width=\"formLabelWidth\">\r\n            <el-input v-model=\"form.flag\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"请输入角色描述\" :label-width=\"formLabelWidth\">\r\n            <el-input v-model=\"form.description\" autocomplete=\"off\" type=\"textarea\" style=\"height:300px\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog title=\"请填写菜单分配\" :visible.sync=\"menuDialogVisible\" position=\"fixed\" width=\"40%\">\r\n        <el-tree :data=\"menudata\" :props=\"props\" ref=\"tree\" node-key=\"id\" show-checkbox\r\n                 :default-checked-keys=\"checks\" default-expand-all highlight-current>\r\n          <span class=\"custom-tree-node\" slot-scope = \"{ node,data }\">\r\n            <span><i :class=\"data.icon\"></i> {{data.menuname}} </span>\r\n          </span>\r\n        </el-tree>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveRoleMenu\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Role\",\r\n  data() {\r\n    return {\r\n      props: {\r\n          label: \"menuname\"\r\n      },\r\n      menudata:[],\r\n      tableData: [],\r\n      total: 0,\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      rolename: \"\",\r\n      roleId:0,\r\n      checks:[],\r\n      form:{},\r\n      multipleSelection: [], // 选择的数据条 数据\r\n\r\n      dialogFormVisible: false,  //弹窗初始不可见\r\n      menuDialogVisible: false,\r\n      formLabelWidth: '120px',\r\n      headerBg: \"headerBg\",\r\n    }\r\n  },\r\n\r\n  created() {\r\n    // 请求分页查询数据 第一个参数 url\r\n    this.load();\r\n  },\r\n  methods: {\r\n    load() {\r\n      // mybatis plus 使用request实现分页查询\r\n      this.request.get(\"/role/page\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          rolename: this.rolename,\r\n        }\r\n      }).then(res => {\r\n        console.log(res.data)\r\n        this.tableData = res.records\r\n        this.total = res.total\r\n      });\r\n    },\r\n\r\n    reset() {\r\n      this.rolename = \"\";\r\n      this.load();\r\n    },\r\n    AddUser(){\r\n      this.dialogFormVisible = true;\r\n      this.form ={};\r\n    },\r\n    save(){\r\n      this.request.post(\"/role/update\",this.form).then(res => {\r\n        if(res){ // 传入数据\r\n          this.$message.success(\"保存成功 !\")\r\n          this.dialogFormVisible = false\r\n          this.load()\r\n        }else { this.$message.error(\"保存失败 !\")}\r\n      })\r\n    },\r\n    saveRoleMenu(){ // 绑定角色与菜单\r\n      this.request.post( \"/role/roleMenu/\" + this.roleId, this.$refs.tree.getCheckedKeys() ).then(res => {  // 给后端传roleId menuId\r\n        if(res) {\r\n          console.log(this.$refs.tree.getCheckedKeys())\r\n          console.log(res)\r\n          this.menuDialogVisible = false\r\n          this.$message.success(\"分配成功 ! 重新登录后新菜单生效 !!! \")\r\n        }else { this.$message.error(\"分配失败 !\")}\r\n      })\r\n    },\r\n    handleContributeMenu(roleId){\r\n      this.menuDialogVisible = true; //打开弹窗\r\n      this.roleId = roleId;\r\n\r\n      console.log(roleId);\r\n\r\n      this.request.get(\"/menu/list\",{  // 获取所有菜单名\r\n        params: {\r\n          menuname: this.menuname\r\n        }\r\n      }).then(res =>{\r\n        console.log(res.data)\r\n        this.menudata = res.data\r\n        this.total = res.total\r\n      })\r\n\r\n      this.request.get(\"/role/menu/\" + roleId).then(res =>{ // 返回已选择菜单项（数组）\r\n        console.log(res.data)\r\n        this.checks = res.data\r\n        this.total = res.total\r\n\r\n      })\r\n    },\r\n    handleSelectionChange(val){ // 加复选框\r\n      console.log(val) // val就是选择的数据的数组\r\n      this.multipleSelection =val  // 把数组给 multipleSelection\r\n    },\r\n    handleEdit(row) {\r\n      this.form = row; // 把当行的数据赋予到弹窗中\r\n      this.dialogFormVisible = true; //打开弹窗\r\n      console.log(row);\r\n    },\r\n\r\n    handleDelete(id) {\r\n      this.request.delete(\"/role/\"+ id).then(res => {\r\n        if(res){ // 传入数据\r\n          this.$message.success(\"删除成功 !\")\r\n          this.dialogFormVisible = false\r\n          this.load()\r\n        }else { this.$message.error(\"删除失败 !\")}\r\n      })\r\n      console.log(id);\r\n    },\r\n    handleDeleteBatch() { //对multipleSelection对象进行处理\r\n      let ids = this.multipleSelection.map(v => v.id)  // 扁平化处理 将一个对象变成一个纯id 只有id 的 数组     [{1,},{2,},{3,}] -> [1,2,3]\r\n      this.request.post(\"/role/del/batch\", ids).then(res => {\r\n        if(res){ // 传入数据\r\n          this.$message.success(\"删除成功 !\")\r\n          this.dialogFormVisible = false\r\n          this.load()\r\n        }else { this.$message.error(\"删除失败 !\")}\r\n      })\r\n    },\r\n    handleSizeChange(pageSize){\r\n      console.log(`每页 ${pageSize} 条`);\r\n      this.pageSize = pageSize;\r\n      this.load();\r\n    },\r\n    handleCurrentChange(pageNum){\r\n      console.log(`当前页码: ${pageNum}`);\r\n      this.pageNum = pageNum;\r\n      this.load();\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.headerBg{\r\n  background:azure!important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Role.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Role.vue?vue&type=template&id=717fa2f0&scoped=true\"\nimport script from \"./Role.vue?vue&type=script&lang=js\"\nexport * from \"./Role.vue?vue&type=script&lang=js\"\nimport style0 from \"./Role.vue?vue&type=style&index=0&id=717fa2f0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"717fa2f0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","rolename","callback","$$v","expression","staticClass","on","load","_v","reset","AddUser","handleDeleteBatch","slot","tableData","headerBg","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleContributeMenu","id","handleDelete","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","dialogFormVisible","formLabelWidth","form","$set","flag","description","save","menuDialogVisible","ref","menudata","props","checks","node","data","class","icon","_s","menuname","saveRoleMenu","staticRenderFns","name","label","roleId","multipleSelection","created","methods","request","get","params","then","res","console","log","records","post","$message","success","error","$refs","tree","getCheckedKeys","val","delete","ids","map","v","component"],"sourceRoot":""}